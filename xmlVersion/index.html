<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" 
		content=" width=device-width, height=device-height, target-densitydpi=device-dpi,initial-scale=0.5, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	    <!--target-densitydpi=device-dpi，让设备按照真实的dpi来渲染页面 -->
	    <!--如果没有这句，可能有的设备不能达到预期自适应效果-->

	<title>2048</title>
	<link rel="stylesheet" type="text/css" href="css\2048.css">

	<link rel="stylesheet" href="jqm\jquery.mobile-1.3.2.min.css">

	<script type="text/javascript" src="jqm\jquery.js"></script>
	<script type="text/javascript" src="jqm\jquery.mobile-1.3.2.min.js"></script>

	<script type="text/javascript" src="js\support2048.js"></script>
	<script type="text/javascript" src="js\animation2048.js"></script>
	<script type="text/javascript" src="js\main2048.js"></script>

</head>

<body>
	<script type="text/javascript" >
		$(document).ready(function(){//初始化
			$("#newGame").click(function(){			
				newgame();
			});
			$("#again").click(function(){			
				newgame();
			});
			$("#getScoreList").click(function(){
				$.get('php/scoreList.php',function(data,status){
					//alert("数据：" + data + "\n状态：" + status);
					var scoreData = new Array();
					scoreData = data.split(',');
					for(i=0;i<scoreData.length;i++){
						$("#scoreList_"+i).text(scoreData[i]);
					}
				});
			});
		});
		//AJAX			
	</script>
	<!--首页-->
	<div data-role="page" id="homePage">
 		<div data-role="header" data-tap-toggle="false" data-position="fixed">
    		<h1>2048</h1>
    	</div>
		<div data-role="content" style="margin-top:40px">
			
    		<a id="newGame" href="#2048Page" data-role="button" data-transition="slide" data-corners="false" >新&nbsp;&nbsp;游&nbsp;&nbsp;戏</a>

    		<a href="#2048Page" data-role="button" data-transition="slide" data-corners="false" >继续游戏</a>
			
			<a id="getScoreList" href="#scoreList" data-role="button" data-transition="slide" data-corners="false" >高&nbsp;&nbsp;分&nbsp;&nbsp;榜</a>

			<a href="#About" data-role="button" data-transition="slide" data-corners="false" >关&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;于</a>
			<!--
			<a href="#gameOverPage" data-role="button" data-corners="false" >test</a>		-->
  		</div>

    	<div data-role="footer" data-tap-toggle="false" data-position="fixed">
    		<h1>技术支持&nbsp;@Rf-sama</h1>
  		</div>
	</div> 
	<!--2048游戏页面-->
	<div data-role="page" id="2048Page">
		<div data-role="header" data-tap-toggle="false" data-position="fixed">
			<a class="backHome" href="#homePage" data-role="button" data-icon="home" data-transition="slide" data-direction="reverse">首页</a>
			<h1 id="title">2048</h1>
		</div>
		<div data-role="content">
			<header>
				<a href="javascript:newgame();" id="newgamebtn">New Game</a>
				<p>得分:&nbsp;&nbsp;<span id="score">0</span></p>
			</header>
			<div id="grid">
				<div class="grid-cell" id="grid-cell-0-0"></div>
				<div class="grid-cell" id="grid-cell-0-1"></div>
				<div class="grid-cell" id="grid-cell-0-2"></div>
				<div class="grid-cell" id="grid-cell-0-3"></div>
				
				<div class="grid-cell" id="grid-cell-1-0"></div>
				<div class="grid-cell" id="grid-cell-1-1"></div>
				<div class="grid-cell" id="grid-cell-1-2"></div>
				<div class="grid-cell" id="grid-cell-1-3"></div>
				
				<div class="grid-cell" id="grid-cell-2-0"></div>
				<div class="grid-cell" id="grid-cell-2-1"></div>
				<div class="grid-cell" id="grid-cell-2-2"></div>
				<div class="grid-cell" id="grid-cell-2-3"></div>
				
				<div class="grid-cell" id="grid-cell-3-0"></div>
				<div class="grid-cell" id="grid-cell-3-1"></div>
				<div class="grid-cell" id="grid-cell-3-2"></div>
				<div class="grid-cell" id="grid-cell-3-3"></div>
			</div>
		</div>
		<div data-role="footer" data-tap-toggle="false" data-position="fixed">
    		<h1>技术支持&nbsp;@Rf-sama</h1>
  		</div>
	</div>
	<!--高分榜页面-->
	<div data-role="page" id="scoreList">
	    <div data-role="header" data-tap-toggle="false" data-position="fixed">
	 			<a class="backHome" href="#homePage" data-role="button" data-icon="home" data-transition="slide" data-direction="reverse">首页</a>
	    <h1>高分榜</h1>
	  	</div>

	  	<div data-role="content">
		  	<ul data-role="listview" data-inset="true">
		      	<li>
		      		<B>NO.1：&nbsp;&nbsp;&nbsp;&nbsp;</B><span id="scoreList_0" >0</span>
			    </li>
				<li>
		      		<B>NO.2：&nbsp;&nbsp;&nbsp;&nbsp;</B><span id="scoreList_1" >0</span>
			    </li>
			    <li>
		      		<B>NO.3：&nbsp;&nbsp;&nbsp;&nbsp;</B><span id="scoreList_2" >0</span>
			    </li>
	    	</ul>
		</div>
	  	<div data-role="footer" data-tap-toggle="false" data-position="fixed">
	    	<h1>技术支持&nbsp;@Rf-sama</h1>
	  	</div>
	</div> 
	<!--about页面-->
	<div data-role="page" id="About">
 		<div data-role="header" data-tap-toggle="false" data-position="fixed">
 			<a class="backHome" href="#homePage" data-role="button" data-icon="home" data-transition="slide" data-direction="reverse">首页</a>
    		<h1>About</h1>
    	</div>
		<div data-role="content">
    		<p>
                <br>
    			&nbsp;&nbsp;&nbsp;&nbsp;说明：这是一个改进版2048游戏，方格内不再是数字，而是一些技术等级术语；但规则仍是一致的！分为[小白][菜鸟][大虾][牛人][大牛][专家][学者][大师][科学家][大家][大哲][上帝]这几个等级；且对应原游戏2~4096，玩到大哲就算胜利。
    			</br>    			
    			<br>
    			&nbsp;&nbsp;&nbsp;&nbsp;特色：本游戏支持在多种不同分辨率的终端设备运行，支持键盘操作和手势操作；且gameover后支持分享到QQ空间，让你的小伙伴也能一起来玩，一起来PK；游戏愉快！
    			</br>
    			<br></br>
    			<br></br>
    			<br>
    			&nbsp;&nbsp;&nbsp;&nbsp;制作人：Rf-sama
    			</br>
    			<br>
    			&nbsp;&nbsp;&nbsp;&nbsp;联系方式：lzq.zheng@qq.com
    			</br>
    		</p>
  		</div>

    	<div data-role="footer" data-tap-toggle="false" data-position="fixed">
    		<h1>技术支持&nbsp;@Rf-sama</h1>
  		</div>
	</div> 
	<!--gameover页面-->
	<div data-role="dialog" id="gameOverPage">
 		<div data-role="header" data-tap-toggle="false" data-position="fixed">
    		<h1>GAME OVER</h1>
    	</div>
		<div data-role="content" >
    		<p align="center">
    			<br>本次得分:&nbsp;&nbsp;<span id="allScore">0</span></br>
    			<br>点击下面的分享按钮一键分享到QQ空间</br>
    		</p>
    		<!--分享至QQ空间-->
    		<div align="center" style="margin-top:40px">
	    		<script type="text/javascript">
					//var myScore = $("#allScore").text();

					(function(){
					var p = {
					url:location.href,
					showcount:'1',/*是否显示分享总数,显示：'1'，不显示：'0' */
					desc:'',/*默认分享理由(可选)*/
					summary:'小伙伴们，一起来PK吧',/*分享摘要(可选)*/
					title:'技术宅版2048小游戏',/*分享标题(可选)*/
					site:'',/*分享来源 如：腾讯网(可选)*/
					pics:'', /*分享图片的路径(可选)*/
					style:'101',
					width:199,
					height:30
					};
					var s = [];
					for(var i in p){
					s.push(i + '=' + encodeURIComponent(p[i]||''));
					}
					document.write(['<a version="1.0" class="qzOpenerDiv" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?',s.join('&'),'" target="_blank">分享</a>'].join(''));
					})();
				</script>
				<script src="http://qzonestyle.gtimg.cn/qzone/app/qzlike/qzopensl.js#jsdate=20111201" charset="utf-8"></script>
			</div>

    		<div align="center" style="margin-top:30px" >
				<a id="again" href="#2048Page" data-role="button" data-inline="true" data-theme="a">再来一次</a>
				<a href="#homePage" data-role="button" data-inline="true" data-theme="a">结束游戏</a>
			</div>
  		</div>
	</div> 

</body>
</html>
